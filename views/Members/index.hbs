<h1>Members</h1>
<a href="/members/add" class="btn btn-primary mb-3">Add New Member</a>

<table class="table table-bordered table-striped">
  <thead>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Phone</th>
      <th>Membership Start</th>
      <th>Membership Expiry</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {{#each members}}
      <tr>
        <td>{{this.name}}</td>
        <td>{{this.email}}</td>
        <td>{{this.phone}}</td>
        <td>{{formatDate this.membershipStart "YYYY-MM-DD"}}</td>
        <td>{{formatDate this.membershipExpiry "YYYY-MM-DD"}}</td>
        <td>
          <a href="/members/edit/{{this._id}}" class="btn btn-sm btn-warning">Edit</a>

          <form action="/members/extend/{{this._id}}?_method=PUT" method="POST" style="display:inline-block; margin-right: 5px;">
            <input type="number" name="extensionMonths" min="1" placeholder="Extend (months)" required style="width: 120px; display: inline-block;" />
            <button type="submit" class="btn btn-sm btn-info">Extend</button>
          </form>

          <form action="/members/delete/{{this._id}}?_method=DELETE" method="POST" style="display:inline;">
            <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure you want to delete this member?');">Delete</button>
          </form>
        </td>
      </tr>
    {{/each}}
  </tbody>
</table>
